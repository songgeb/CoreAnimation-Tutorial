# Effective Objective-C 2.0笔记


## 疑问
1. 第41条中，文中讲到，使用并发队列来优化同步锁的代码时，读操作使用`dispatch\_sync`对并发队列操作，set操作使用`barrier_async`，这样相比串行队列性能更好一些
	- 按照文中的解释，外部调用读操作可能是多线程并发的，如果内部还用串行队列的话，等待时间可能更长，而改用并发队列，则读操作的并发队列可能会开多个线程来读数据，更快
	- 疑问在于，`dispatch\_sync`的方式将任务提交到并发队列里时，是否开辟新线程的问题
	- 从网上的简单实践来看，貌似使用的是caller的线程，而非开辟新线程
	- 但我的结论是，队列和线程之间是独立的，我们不能依据简单的测试代码就得出上面的结论
	- 正确的理解是，对于并发队列，不论`asyn`还是`sync`的提交方式，队列内部都是有可能开辟多个线程来执行任务的。所以相信书上的